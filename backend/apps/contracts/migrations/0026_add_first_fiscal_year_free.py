# Generated by Django 4.2.26 on 2025-12-19 09:45

from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        ("tenants", "0002_add_first_fiscal_year_free"),
        ("students", "0021_add_first_fiscal_year_free"),
        ("schools", "0022_add_first_fiscal_year_free"),
        ("contracts", "0025_add_additional_ticket_models"),
    ]

    operations = [
        migrations.AddField(
            model_name="product",
            name="is_first_fiscal_year_free",
            field=models.BooleanField(
                default=False,
                help_text="チェックすると入会年度末（3月）まで無料、翌年度4月から料金発生",
                verbose_name="初年度無料",
            ),
        ),
        migrations.AlterField(
            model_name="certification",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="certification",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="certificationenrollment",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="certificationenrollment",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="contract",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="contract",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="contractchangerequest",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="contractchangerequest",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="contracthistory",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="contracthistory",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="course",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="course",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="courseitem",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="courseitem",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="courserequiredseminar",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="courserequiredseminar",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="courseticket",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="courseticket",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="discount",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="discount",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="discountoperationlog",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="discountoperationlog",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="pack",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="pack",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="packcourse",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="packcourse",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="packitem",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="packitem",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="packticket",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="packticket",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="product",
            name="base_price",
            field=models.DecimalField(
                decimal_places=0,
                default=0,
                max_digits=10,
                verbose_name="保護者表示用金額",
            ),
        ),
        migrations.AlterField(
            model_name="product",
            name="brand",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="products",
                to="schools.brand",
                verbose_name="契約ブランド名",
            ),
        ),
        migrations.AlterField(
            model_name="product",
            name="item_type",
            field=models.CharField(
                choices=[
                    ("tuition", "授業料"),
                    ("monthly_fee", "月会費"),
                    ("facility", "設備費"),
                    ("textbook", "教材費"),
                    ("expense", "諸経費"),
                    ("enrollment", "入会金"),
                    ("enrollment_tuition", "入会時授業料"),
                    ("enrollment_monthly_fee", "入会時月会費"),
                    ("enrollment_facility", "入会時設備費"),
                    ("enrollment_textbook", "入会時教材費"),
                    ("enrollment_expense", "入会時諸経費"),
                    ("enrollment_management", "入会時総合指導管理費"),
                    ("seminar", "講習会"),
                    ("seminar_spring", "春期講習会"),
                    ("seminar_summer", "夏期講習会"),
                    ("seminar_winter", "冬期講習会"),
                    ("required_seminar", "必須講習会"),
                    ("required_course", "必須講座"),
                    ("test_prep", "テスト対策費"),
                    ("required_test_prep", "必須テスト対策費"),
                    ("mock_exam", "模試代"),
                    ("required_mock_exam", "必須模試代"),
                    ("exam_prep", "入試対策費"),
                    ("required_exam_prep", "必須入試対策費"),
                    ("certification_fee_1", "検定料1"),
                    ("certification_fee_2", "検定料2"),
                    ("certification_fee_3", "検定料3"),
                    ("certification_fee_4", "検定料4"),
                    ("extra_tuition", "追加授業料"),
                    ("instructor_fee", "講師指名料"),
                    ("bag", "バッグ"),
                    ("abacus", "そろばん本体代"),
                    ("snack", "おやつ"),
                    ("lunch", "お弁当"),
                    ("childcare_ticket", "保育回数券"),
                    ("custody", "預り料"),
                    ("transportation", "送迎費"),
                    ("management", "総合指導管理費"),
                    ("rent", "家賃"),
                    ("other", "その他"),
                ],
                default="tuition",
                max_length=30,
                verbose_name="請求カテゴリ",
            ),
        ),
        migrations.AlterField(
            model_name="product",
            name="product_code",
            field=models.CharField(max_length=50, verbose_name="請求ID"),
        ),
        migrations.AlterField(
            model_name="product",
            name="product_name",
            field=models.CharField(max_length=100, verbose_name="明細表記"),
        ),
        migrations.AlterField(
            model_name="product",
            name="product_name_short",
            field=models.CharField(blank=True, max_length=50, verbose_name="契約名"),
        ),
        migrations.AlterField(
            model_name="product",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="product",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="productprice",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="productprice",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="productset",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="productset",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="productsetitem",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="productsetitem",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="seminar",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="seminar",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="seminarenrollment",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="seminarenrollment",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="studentdiscount",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="studentdiscount",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="studentitem",
            name="product",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.PROTECT,
                related_name="student_items",
                to="contracts.product",
                verbose_name="商品",
            ),
        ),
        migrations.AlterField(
            model_name="studentitem",
            name="student",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.PROTECT,
                related_name="student_items",
                to="students.student",
                verbose_name="生徒",
            ),
        ),
        migrations.AlterField(
            model_name="studentitem",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="studentitem",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="systemauditlog",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="systemauditlog",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
        migrations.AlterField(
            model_name="ticket",
            name="tenant_id",
            field=models.UUIDField(db_index=True, verbose_name="会社ID"),
        ),
        migrations.AlterField(
            model_name="ticket",
            name="tenant_ref",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(app_label)s_%(class)s_set",
                to="tenants.tenant",
                verbose_name="会社",
            ),
        ),
    ]
